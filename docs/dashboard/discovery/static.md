# 静态服务发现

### 概念描述

**节点**：部署了后端服务的机器。

**健康检查**：定时检查节点是否可用，若节点不可用，则将其加入异常节点列表中，网关转发时将会忽略该节点。

**静态服务发现**：配置节点地址，在转发时会根据算法转发到对应的节点。


### 配置示例
1、创建静态服务发现

![](http://data.eolinker.com/course/NVXljnp231a18d0f81f9d256aeffa1468b5f1fa402d2853.gif)

2、配置静态服务发现

![](http://data.eolinker.com/course/yggqVRl891f112297ac3724dbfe95d9fd74afaa48691f6c.gif)

字段描述说明

| 字段           | 描述                                   |
|--------------|--------------------------------------|
| 请求协议         | 转发时请求后端接口的协议，可能性：HTTP/HTTPS          |
| 是否开启健康检查     | 是否定时检查节点健康状态，当开启，下述配置必填              |
| 健康检查配置-请求协议  | 健康检查时访问节点的协议，可能性：HTTP/HTTPS          |
| 健康检查配置-请求方式  | 健康检查时访问的请求方式，可能性：GET/POST/PUT        |
| 健康检查配置-请求URL | 健康检查时访问的url                ｜         |
| 健康检查配置-成功状态码 | 健康检查时，当返回响应的状态码和该值一致时，则判定为健康，否则判定为异常 |
| 健康检查配置-检查频率  | 健康检查的周期，单位：s                         |
| 健康检查配置-超时时间  | 每次健康检查的超时时间，当响应时间超过该阈值时，判定为异常，单位：s   |

3、绑定上游服务，并在服务内配置静态地址信息

![](http://data.eolinker.com/course/M1JNFhl1f7c3b434df6698237f0db677132e98ed2e66a1c.gif)

字段描述说明

| 字段     | 描述                                                                                                                                                                          |
|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 服务名 or 配置   | 当选择静态服务发现时填写<br><br>配置格式：{域名/ip}:{port} {weight} <br> 示例：demo.apinto.com:8280 100 <br><br> 可配置多个上游地址，中间用英文分号**;**隔开<br>示例：demo.apinto.com:8280 100;demo.gokuapi.com:8280 10 |
