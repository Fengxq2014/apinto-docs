# 响应重写

### 插件信息

| 名称     | 字段             | 属性     |
| -------- | ---------------- | -------- |
| 响应重写 | response_rewrite | 参数处理 |

### 功能描述

该插件用于重写网关返回的状态码、响应体、头部。当从上游返回的响应状态码满足对应状态码时，网关对响应内容进行重写。

**注意事项**：对状态码和响应体body是重写覆盖，但对头部信息是新增或修改。

### 配置参数说明

| 参数名      | 说明                                   | 是否必填 | 默认值 | 值可能性  |
| ----------- | -------------------------------------- | -------- | ------ | --------- |
| status_code | 新响应状态码, 闭区间范围为[200,598]    | 是       |        | int       |
| body        | 新响应体                               | 否       |        | string    |
| body_base64 | 新响应体的配置内容是否已经过base64加密 | 否       | false  | bool      |
| headers     | 新增的响应头部信息                     | 否       |        | object    |
| match       | 匹配条件                               | 是       |        | object    |
| match->code | 匹配状态码                             | 是       |        | array_int |

**注意事项**：

* match->code参数是int数组，同时每个值得范围是[200,598]。

### 全局开启响应重写插件

![](http://data.eolinker.com/course/2lJTYWQb4fba940c8fbc5c96d94aec29f8d77e0f27a3b31.gif)

### 配置带有响应重写插件的服务

**配置说明**：当响应状态码为200时，响应状态码将被重写为201，响应头部设置`apinto: "1"`，body被覆盖为`{"重写响应体"}`。

![](http://data.eolinker.com/course/VWe4L8paa37a389a31f5c286091fa99417861c774f12099.gif)
